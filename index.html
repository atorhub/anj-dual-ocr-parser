<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ANJ Invoice — Hybrid OCR + Parser</title>

<!-- Styles -->
<link rel="stylesheet" href="style.css" />

<!-- Libraries -->
<script src="https://cdn.jsdelivr.net/npm/pdfjs-dist@3.10.177/build/pdf.min.js"></script>
<script>
  pdfjsLib = window.pdfjsLib || window["pdfjs-dist/build/pdf"];
  pdfjsLib.GlobalWorkerOptions.workerSrc =
    "https://cdn.jsdelivr.net/npm/pdfjs-dist@3.10.177/build/pdf.worker.min.js";
</script>

<script src="https://cdn.jsdelivr.net/npm/tesseract.js@4.1.4/dist/tesseract.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js"></script>

</head>
<body>

<header class="header">
  <h1>ANJ Invoice — OCR + Parser + Export Hub</h1>
  <div id="statusBar" class="status">Ready</div>
</header>

<main class="main">

  <!-- Upload Section -->
  <section class="card upload-card">
    <h2>1. Upload Invoice</h2>

    <input id="fileInput" type="file" accept=".pdf,image/*,.txt" />

    <div class="row">
      <button id="ocrBtn" class="btn outline">OCR Only</button>
      <button id="parseBtn" class="btn gold">OCR + Parse + Preview</button>
    </div>
  </section>

  <!-- Previews Section -->
  <section class="card preview-card">
    <h2>2. Extracted Data Preview</h2>

    <div id="preview-container" class="preview-area">

      <h3>Summary</h3>
      <pre id="summaryBox" class="box small">—</pre>

      <h3>Raw OCR Text</h3>
      <pre id="rawTextEl" class="box large">—</pre>

      <h3>Items Table</h3>
      <pre id="itemsTable" class="box medium">—</pre>

      <h3>Excel Preview (TSV)</h3>
      <pre id="excelPreview" class="box medium">—</pre>

      <h3>Tally Preview</h3>
      <pre id="tallyPreview" class="box medium">—</pre>

      <h3>JSON Preview</h3>
      <pre id="jsonPreview" class="box large">—</pre>

      <h3>Text Preview</h3>
      <pre id="textPreview" class="box medium">—</pre>

      <h3>ZIP Contents Preview</h3>
      <pre id="zipPreview" class="box small">—</pre>

    </div>
  </section>

  <!-- Export Section -->
  <section class="card export-card">
    <h2>3. Export Files</h2>

    <div class="row wrap">
      <button id="exportJSON" class="btn gold">Export JSON</button>
      <button id="exportTXT" class="btn gold">Export TXT</button>
      <button id="exportEXCEL" class="btn gold">Export Excel (TSV)</button>
      <button id="exportTALLY" class="btn gold">Export Tally</button>
      <button id="exportPDF" class="btn gold">Export PDF</button>
      <button id="exportZIP" class="btn gold">Export ZIP (All Files)</button>
    </div>

    <div class="row">
      <button id="saveHistoryBtn" class="btn outline">Save to History</button>
    </div>
  </section>

  <!-- Debug Log -->
  <section class="card debug-card">
    <h2>Debug Log</h2>
    <textarea id="debugLog" class="debug-box" readonly></textarea>
  </section>

</main>

<footer class="footer">
  ANJ Creator Hub © 2025 — Build v1.0
</footer>

<!-- Main Script (Parts 1–10 Combined) -->
<script src="script.js"></script>

</body>
</html>
