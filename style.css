* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: system-ui, sans-serif;
  background: var(--bg);
  color: var(--text);
  min-height: 100dvh;
  overflow-x: hidden;
  transition: background .5s ease;
}

/* ================= THEMES ================= */
body.theme-default {
  --bg: radial-gradient(circle at top,#1e1b4b,#020617);
  --card: rgba(255,255,255,.08);
  --text: #e5e7eb;
  --accent: #8b5cf6;
}
body.theme-galaxy {
  --bg: radial-gradient(circle at top,#2d1b69,#07000f);
  --card: rgba(255,255,255,.1);
  --text: #f5f3ff;
  --accent: #c084fc;
}
body.theme-fairy {
  --bg: linear-gradient(135deg,#2e026d,#a21caf);
  --card: rgba(255,255,255,.12);
  --text: #fdf4ff;
  --accent: #f0abfc;
}
body.theme-pink {
  --bg: linear-gradient(135deg,#3b021f,#831843);
  --card: rgba(255,255,255,.14);
  --text: #ffe4f1;
  --accent: #fb7185;
}
body.theme-dark {
  --bg: #020617;
  --card: rgba(255,255,255,.06);
  --text: #e5e7eb;
  --accent: #38bdf8;
}

/* NEW THEMES */
body.theme-aqua {
  --bg: radial-gradient(circle at top,#1ddfd3,#0b2c3d 70%);
  --accent: #1ddfd3;
  --card: rgba(40,180,190,.18);
}
body.theme-mint {
  --bg: radial-gradient(circle at top,#7fffd4,#0f3d2e 70%);
  --accent: #7fffd4;
  --card: rgba(120,255,210,.16);
}
body.theme-sunset {
  --bg: radial-gradient(circle at top,#ff8a65,#3b1c2a 70%);
  --accent: #ff8a65;
  --card: rgba(255,140,100,.18);
}
body.theme-neon {
  --bg: radial-gradient(circle at top,#3ea6ff,#081b33 70%);
  --accent: #3ea6ff;
  --card: rgba(80,150,255,.16);
}
body.theme-midnight {
  --bg: radial-gradient(circle at top,#5b6cff,#050812 70%);
  --accent: #5b6cff;
  --card: rgba(90,110,255,.15);
}

/* ================= LAYOUT ================= */
.app-shell { display:flex; min-height:100dvh; }

.sidebar {
  width:220px;
  padding:20px;
  background:rgba(0,0,0,.45);
  backdrop-filter:blur(18px);
}

.nav-item {
  padding:14px;
  border-radius:14px;
  margin-bottom:10px;
  opacity:.7;
}
.nav-item:hover,
.nav-item.active {
  opacity:1;
  background:var(--card);
  box-shadow:0 0 18px var(--accent);
}

.main { flex:1; padding:24px; }

.topbar {
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:24px;
}

/* ================= GRID ================= */
body.layout-dashboard .grid {
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(320px,1fr));
  gap:24px;
}
body.layout-focus .grid {
  display:flex;
  flex-direction:column;
  gap:28px;
  max-width:420px;
  margin:0 auto;
}
body.layout-vertical .grid {
  display:flex;
  flex-direction:column;
  gap:20px;
}

/* ================= PANELS ================= */
.panel {
  background:var(--card);
  border-radius:22px;
  padding:22px;
  backdrop-filter:blur(18px);
  box-shadow:
    0 8px 30px rgba(0,0,0,.35),
    inset 0 0 0 1px rgba(255,255,255,.08);
}

pre {
  min-height:130px;
  padding:16px;
  border-radius:14px;
  background:rgba(255,255,255,.05);
  white-space:pre-wrap;
}
pre:empty::before {
  content:"Waiting for outputâ€¦";
  animation:pulse 1.6s infinite;
}

@keyframes pulse {
  0%,100% { opacity:.4; }
  50% { opacity:.9; }
}

/* ================= SIDEBAR TOGGLE ================= */
#sidebarToggle {
  background:var(--card);
  color:var(--text);
  border:none;
  padding:8px 14px;
  border-radius:12px;
  cursor:pointer;
}

body.sidebar-hidden .sidebar {
  width:0;
  padding:0;
  overflow:hidden;
}
body.sidebar-hidden .main {
  margin-left:0;
}

@media(max-width:768px){
  .sidebar { display:none; }
}
